extends layout

block content
  include includes/navbar
  
  if typeof(flash) != 'undefined'
    include includes/flash-messages
    mixin flash-messages(flash)
  
  mixin showTable(table)
    table(class='table table-striped table-bordered table-hover')
      thead
        tr
          th 序号
          th 学号
          th 姓名
          th 性别
          th 院系
          th 邮箱
          th 电话
      tbody
        - for (var i=0;i<table.length;i++)
          tr
            td= (i+1)
            td= table[i].studentid
            td= table[i].name
            td= table[i].sex
            td= table[i].department
            td= table[i].email
            td= table[i].phone
  
  mixin showEmail(table)
    table(class='table table-striped table-bordered table-hover')
      thead
        tr
          th 序号
          th 邮箱
      tbody
        - for (var i=0;i<=(table.length-1)/50;i++)
          tr
            td= '[' + (i*50+1) + ',' + ((i+1)*50<table.length?(i+1)*50:table.length) + ']'
            - str = table[i*50].email
            - for (var j=i*50+1;j<(i+1)*50 && j<table.length;j++)
              - str = str + '; ' + table[j].email
            td= str
  
  div(class='container')
    hr
    h3 仅注册
    +showTable(list0)
    +showEmail(list0)
    hr
    h3 群众体育
    +showTable(list1)
    +showEmail(list1)
    hr
    h3 正式会员
    +showTable(list2)
    +showEmail(list2)
    hr
    h3 内阁
    +showTable(list3)
    +showEmail(list3)
    hr
  
  include includes/footer
